# CLAUDE.md - Project Documentation

## Overview
This file provides essential project context. Keep under 500 lines - extract details to `docs/`.

## Project Summary
- **Project**: [project-name]
- **Created**: [date]
- **Goal**: [Brief 1-2 sentence description]

## Current Status

**Next Steps**:
- [Priority 1]
- [Priority 2]

---

## Quick Start

```bash
# Build and run
[build command]

# Run tests
[test command]

# Check code quality
[lint/format commands]
```

## Project Structure

```
[key directories and their purposes]
```

## Key Features
- [Feature 1]
- [Feature 2]
- [Feature 3]

---

## Recent Sessions (Last 3-5)

**Session NNN (YYYY-MM-DD)**: [Brief title]
- [Key accomplishment 1]
- [Key accomplishment 2]
- **See**: `docs/internal/sessions/session-NNN.md` for full details

**Session NNN-1 (YYYY-MM-DD)**: [Brief title]
- [Key accomplishment]
- **See**: `docs/internal/sessions/session-NNN-1.md`

---

## Documentation Structure

**This project follows strict documentation lifecycle management.**

**Essential References**:
- `docs/TODO.md` - Task tracking and next priorities
- `docs/architecture-decisions.md` - All ADRs consolidated
- `docs/internal/sessions/` - Session logs (session-NNN.md)
- `.claude/guidelines/project-documentation-standards.md` - **Documentation rules**

**Documentation Guidelines** (enforced by Claude):

1. **CLAUDE.md stays under 500 lines**
   - Extract session history to `docs/archive/YYYY/`
   - Use pointers, not full content
   - Run `/consolidate` if exceeding limit

2. **Ephemeral docs have lifecycle**
   - Planning docs: `docs/internal/planning/session-NNN-planning.md`
   - Research docs: `docs/internal/research/session-NNN-research.md`
   - **Must be archived or promoted at end of session**
   - Check with: `find docs/internal/{planning,research} -name "*.md" -mtime +14`

3. **Session logs document everything**
   - Created using `/log-session` skill
   - Reference ephemeral docs
   - Record archive/promote decisions

4. **Root directory stays clean**
   - Use pointer files (TODO.md â†’ docs/TODO.md)
   - No session logs at root
   - No planning/research docs at root

**See `.claude/guidelines/project-documentation-standards.md` for complete rules.**

---

## Environment Setup

```bash
# Required environment variables
export [VAR1]="value"
export [VAR2]="value"

# Copy example configuration
cp [example-config] [config]
# Edit with your settings
```

---

## Development Workflow

**Starting a new session:**
1. Create planning doc if needed: `docs/internal/planning/session-NNN-planning.md`
2. Work through implementation
3. Run quality checks: `/standards`, `/docs`, `/tests`
4. Create session log: `/log-session`
5. Archive or promote ephemeral docs

**Before committing:**
```bash
# Run quality checks
cargo clippy -- -D warnings
cargo fmt --check
cargo test

# Or use skill
claude
/review
exit
```

**Weekly maintenance:**
```bash
# Check documentation health
claude
/consolidate    # If CLAUDE.md > 500 lines
/docs-check     # Verify consistency
exit

# Archive old ephemeral docs
find docs/internal/{planning,research} -name "*.md" -mtime +14
# Move to docs/archive/YYYY/
```

---

## Key Decisions

**Documented in**: `docs/architecture-decisions.md`

Recent ADRs:
- ADR-NNN: [Decision title]
- ADR-NNN-1: [Decision title]

---

## Known Issues

**See**: `docs/KNOWN_ISSUES.md` for complete list

Critical issues:
- [Issue 1]
- [Issue 2]

---

## Dependencies

**Key libraries**:
- [library 1] - [purpose]
- [library 2] - [purpose]

---

## Testing

**Test commands**:
```bash
# Unit tests
[command]

# Integration tests
[command]
```

**Test coverage**:
- Unit tests: [N] tests
- Integration tests: [N] tests
- Current coverage: [%]

---

## Documentation Sources of Truth

**Version History**: `CHANGELOG.md` - Auto-generated by semantic-release (never manually edit)

**Current Work**: `docs/TODO.md` - Active task tracking and priorities

**Architecture**: `docs/architecture-decisions.md` - ADRs for major design decisions

**Session History**: `docs/internal/sessions/` - Development history reference

**Documentation Rules**: `.claude/guidelines/project-documentation-standards.md` - **READ THIS FIRST**

---

## Important: Claude Code Instructions

**Claude, you MUST:**

1. **Read `.claude/guidelines/project-documentation-standards.md` before working**
   - Follow documentation lifecycle rules
   - Enforce ephemeral doc cleanup
   - Maintain CLAUDE.md under 500 lines

2. **When starting a session with planning:**
   - Create `docs/internal/planning/session-NNN-planning.md`
   - Use template structure (Goal, Approach, Decisions Needed)
   - Reference from session log

3. **When creating research docs:**
   - Create `docs/internal/research/session-NNN-research.md`
   - Document findings, options, recommendations
   - Include benchmarks/evidence

4. **At end of session:**
   - Run `/log-session` skill
   - Document ephemeral doc status (archived/promoted/kept)
   - Check CLAUDE.md size (< 500 lines)

5. **Before committing:**
   - Check for orphaned ephemeral docs
   - Verify all session logs reference their ephemeral docs
   - Ensure documentation is consistent

**Available skills:**
- `/standards` - Code quality check (30s)
- `/docs` - Documentation completeness (30s)
- `/tests` - Test coverage (60s)
- `/perf` - Performance issues (30s)
- `/review` - Full quality audit (2-3 min)
- `/consolidate` - Documentation cleanup (1 min)
- `/docs-check` - Documentation consistency (1 min)
- `/log-session` - Create session log (2 min)

---

**Session Notes:**
[Temporary notes for current work - clean up at end of session]
